$(function(){var s="",e=0,n=!1;$("#bouton-logout").hide();var o=io.connect();o.emit("new_client"),o.on("new_question",function(s){var e=s.question;n=!1,$("#question-text").text(e.question),$("#question-number").text("Question "+s.numero);for(var o=0;o<=e.reponses.length-1;o++)$("#reponse"+(o+1)+" .reponse").text(e.reponses[o]);$(".reponse").show(),$(".joueurs-dans-la-reponse").hide().html(""),$("#timer-plein").finish(),$("#timer-plein").animate({width:"0%"},200,"linear").animate({width:"100%"},s.temps-200,"linear")}),o.on("joueurs_par_reponses",function(s){joueurs=s,$(".joueurs-dans-la-reponse").html("");for(var e=joueurs.length-1;e>=0;e--)$("#joueurs-dans-la-reponse"+joueurs[e].id).append('<li><img class="photo-joueur" src="'+joueurs[e].photo+'"><span class="pseudo-joueur">'+joueurs[e].pseudo+"</span>")}),o.on("scores_partie",function(s){var n=s,o=-1;n.sort(function(s,e){return e.score-s.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].idJoueur===e&&(o=t,n[t].pseudoOutput="Vous");var a="joueur";n.length>1&&(a="joueurs"),$("#classement-partie ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-partie ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&(console.log(o),$("#classement-partie ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"))}),o.on("partie_precedente",function(e){var n=e,o=-1;n.sort(function(s,e){return e.score-s.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].pseudo===s&&(o=t,/Anonyme [\d]+/g.test(n[t].pseudo)&&(n[t].pseudoOutput="Vous"));var a="joueur";n.length>1&&(a="joueurs"),$("#classement-partie-precedente ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-partie-precedente ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&(console.log(o),$("#classement-partie-precedente ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"))}),o.on("scores_semaine",function(e){var n=e,o=-1;n.sort(function(s,e){return e.score-s.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].pseudo===s&&(o=t,/Anonyme [\d]+/g.test(n[t].pseudo)&&(n[t].pseudoOutput="Vous"));var a="joueur";n.length>1&&(a="joueurs"),$("#classement-semaine ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-semaine ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&(console.log(o),$("#classement-semaine ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"))}),o.on("pseudo_joueur",function(e){s=e,$("#pseudo-utilisateur").html(s),/Anonyme [\d]+/g.test(s)||($("#bouton-logout").toggle(),$(".bouton-connexion").toggle())}),o.on("id_joueur",function(s){e=s}),$("#reponse1").click(function(){n||(o.emit("answer",1),n=!0)}),$("#reponse2").click(function(){n||(o.emit("answer",2),n=!0)}),$("#reponse3").click(function(){n||(o.emit("answer",3),n=!0)}),$("#reponse4").click(function(){n||(o.emit("answer",4),n=!0)}),$(".button-reponse").click(function(){$(".reponse").hide(),$(".joueurs-dans-la-reponse").show()}),$(document).ready(function(){$(".cookie-message").cookieBar(".my-boutton"),$(".fancybox").fancybox(),$(".my-boutton").click(function(){}),$(".fancybox").fancybox({padding:5,openEffect:"elastic",openSpeed:150,closeEffect:"elastic",closeSpeed:150,helpers:{overlay:{css:{background:"rgba(0,0,0,0.85)"}}}})})}),window.location.hash&&"#_=_"===window.location.hash&&(window.location.hash="");