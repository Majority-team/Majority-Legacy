$(function(){var s="",e=!1;$("#bouton-logout").hide();var n=io.connect();n.emit("new_client"),n.on("new_question",function(s){var n=s.question;e=!1,$("#question-text").text(n.question),$("#question-number").text("Question "+s.numero);for(var o=0;o<=n.reponses.length-1;o++)$("#reponse"+(o+1)+" .reponse").text(n.reponses[o]);$(".reponse").show(),$(".joueurs-dans-la-reponse").hide().html(""),$("#timer-plein").animate({width:"0%"},200,"linear").animate({width:"100%"},s.temps-200,"linear")}),n.on("joueurs_par_reponses",function(s){joueurs=s,$(".joueurs-dans-la-reponse").html("");for(var e=joueurs.length-1;e>=0;e--)$("#joueurs-dans-la-reponse"+joueurs[e].id).append('<li><img class="photo-joueur" src="'+joueurs[e].photo+'"><span class="pseudo-joueur">'+joueurs[e].pseudo+"</span>")}),n.on("scores_partie",function(e){for(var n=e,o=-1,t=-1,a=-1,c=-1,p=0;p<n.length;p++)0>o&&(o=p),n[p].score>=n[o].score&&p!==o&&(a=t,t=o,o=p),n[p].score>=n[o].score&&p!==o&&(a=t,t=o,o=p),n[p].pseudo===s&&(c=p);for(var p=0;p<n.length;p++)n[p].pseudoOutput=n[p].pseudo.length>12?n[p].pseudo.substring(0,9)+"...":n[p].pseudo;a>=0&&$("#classement-partie ul").html('\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">1.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+' pts</span>\n				</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">2.</span>\n						<img class="photo-joueur-classement" src="'+n[t].photo+'">\n						<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[t].score+' pts</span>\n				</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">3.</span>\n						<img class="photo-joueur-classement" src="'+n[a].photo+'">\n						<span class="pseudo-classement" title="'+n[a].pseudo+'">'+n[a].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[a].score+" pts</span>\n				</li>"),t>=0&&0>a&&$("#classement-partie ul").html('\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">1.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+' pts</span>\n				</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">2.</span>\n						<img class="photo-joueur-classement" src="'+n[t].photo+'">\n						<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[t].score+" pts</span>\n				</li>"),o>=0&&0>t&&$("#classement-partie ul").html('\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">1.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"),c!==a&&c!==t&&c!==o&&$("#classement-partie ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+c+'.</span>\n						<img class="photo-joueur-classement" src="'+n[c].photo+'">\n						<span class="pseudo-classement" title="'+n[c].pseudo+'">'+n[c].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[c].score+" pts</span>\n				</li>")}),n.on("pseudo_joueur",function(e){s=e,$("#pseudo-utilisateur").html(s),/Anonyme [\d]+/g.test(s)||($("#bouton-logout").toggle(),$(".bouton-connexion").toggle())}),$("#reponse1").click(function(){e||(n.emit("answer",1),e=!0)}),$("#reponse2").click(function(){e||(n.emit("answer",2),e=!0)}),$("#reponse3").click(function(){e||(n.emit("answer",3),e=!0)}),$("#reponse4").click(function(){e||(n.emit("answer",4),e=!0)}),$(".button-reponse").click(function(){$(".reponse").hide(),$(".joueurs-dans-la-reponse").show()}),$(document).ready(function(){$(".cookie-message").cookieBar(".my-boutton"),$(".fancybox").fancybox(),$(".my-boutton").click(function(){}),$(".fancybox").fancybox({padding:5,openEffect:"elastic",openSpeed:150,closeEffect:"elastic",closeSpeed:150,helpers:{overlay:{css:{background:"rgba(0,0,0,0.85)"}}}})})}),window.location.hash&&"#_=_"===window.location.hash&&(window.location.hash="");