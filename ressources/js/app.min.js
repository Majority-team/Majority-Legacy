function playAudio(){audio.loop=!0,audio.play(),audio.volume=.1,playimg.style.display="none",pauseimg.style.display=""}function pauseAudio(){audio.pause(),playimg.style.display="",pauseimg.style.display="none"}function playWinNotif(){winNotif.loop=!1,winNotif.play(),winNotif.volume=1}$(function(){var e="",s=0,n=!1;$("#bouton-logout").hide();var o=io.connect();o.emit("new_client"),o.on("new_question",function(e){var s=e.question;n=!1,$("#question-text").text(s.question),$("#question-number").text("Question "+e.numero);for(var o=0;o<=s.reponses.length-1;o++)$("#reponse"+(o+1)+" .reponse").text(s.reponses[o]);$(".reponse").show(),$(".joueurs-dans-la-reponse").hide().html(""),$("#timer-plein").finish(),$("#timer-plein").animate({width:"0%"},200,"linear").animate({width:"100%"},e.temps-200,"linear")}),o.on("joueurs_par_reponses",function(e){joueurs=e,$(".joueurs-dans-la-reponse").html("");for(var s=joueurs.length-1;s>=0;s--)$("#joueurs-dans-la-reponse"+joueurs[s].id).append('<li><img class="photo-joueur" src="'+joueurs[s].photo+'"><span class="pseudo-joueur">'+joueurs[s].pseudo+"</span>")}),o.on("scores_partie",function(e){var n=e,o=-1;n.sort(function(e,s){return s.score-e.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].idJoueur===s&&(o=t,n[t].pseudoOutput="Vous");var a="joueur";n.length>1&&(a="joueurs"),$("#classement-partie ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-partie ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&(console.log(o),$("#classement-partie ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"))}),o.on("partie_precedente",function(s){var n=s,o=-1;n.sort(function(e,s){return s.score-e.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].pseudo===e&&(o=t,/Anonyme [\d]+/g.test(n[t].pseudo)&&(n[t].pseudoOutput="Vous"));var a="joueur";n.length>1&&(a="joueurs"),$("#classement-partie-precedente ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-partie-precedente ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&(console.log(o),$("#classement-partie-precedente ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>"))}),o.on("scores_semaine",function(s){var n=s,o=-1;n.sort(function(e,s){return s.score-e.score});for(var t=0;t<n.length;t++)n[t].pseudoOutput=n[t].pseudo.length>12?n[t].pseudo.substring(0,9)+"...":n[t].pseudo,n[t].pseudo===e&&(o=t,/Anonyme [\d]+/g.test(n[t].pseudo)&&(n[t].pseudoOutput="Vous"));var a="joueur";n.length>1&&(a="joueurs"),$("#classement-semaine ul").html('<li style="text-align: center; font-size: 13px; font-style: italic; margin: 0 0 10px 0">'+n.length+" "+a+"</li>");for(var t=0;3>t;t++)void 0!==n[t]&&$("#classement-semaine ul").append('\n					<li>\n						<div class="joueur-classement">\n							<span class="position-classement">'+(t+1)+'.</span>\n							<img class="photo-joueur-classement" src="'+n[t].photo+'">\n							<span class="pseudo-classement" title="'+n[t].pseudo+'">'+n[t].pseudoOutput+'</span>\n						</div>\n						<span class="score-classement">'+n[t].score+" pts</span>\n					</li>");o>=3&&-1!==o&&$("#classement-semaine ul").append('\n				<li>...</li>\n				<li>\n					<div class="joueur-classement">\n						<span class="position-classement">'+(o+1)+'.</span>\n						<img class="photo-joueur-classement" src="'+n[o].photo+'">\n						<span class="pseudo-classement" title="'+n[o].pseudo+'">'+n[o].pseudoOutput+'</span>\n					</div>\n					<span class="score-classement">'+n[o].score+" pts</span>\n				</li>")}),o.on("ids_gagnants",function(e){gagnants=e;for(var n=0;n<gagnants.length;n++)gagnants[n].id===s&&($(".win").html("+"+(gagnants[n].score_ajout+gagnants[n].combo_ajout)),$(".win").attr("style",""),$(".win").animate({opacity:"0"},1500),playWinNotif())}),o.on("pseudo_joueur",function(s){e=s,$("#pseudo-utilisateur").html(e),/Anonyme [\d]+/g.test(e)||($("#bouton-logout").toggle(),$(".bouton-connexion").toggle())}),o.on("id_joueur",function(e){s=e}),$("#reponse1").click(function(){n||(o.emit("answer",1),n=!0)}),$("#reponse2").click(function(){n||(o.emit("answer",2),n=!0)}),$("#reponse3").click(function(){n||(o.emit("answer",3),n=!0)}),$("#reponse4").click(function(){n||(o.emit("answer",4),n=!0)}),$(".button-reponse").click(function(){$(".reponse").hide(),$(".joueurs-dans-la-reponse").show()}),$(document).ready(function(){$(".cookie-message").cookieBar(".my-boutton"),$(".fancybox").fancybox(),$(".my-boutton").click(function(){}),$(".fancybox").fancybox({padding:5,openEffect:"elastic",openSpeed:150,closeEffect:"elastic",closeSpeed:150,helpers:{overlay:{css:{background:"rgba(0,0,0,0.85)"}}}})})}),window.location.hash&&"#_=_"===window.location.hash&&(window.location.hash="");var audio=document.getElementById("audio"),playimg=document.getElementById("playimg"),pauseimg=document.getElementById("pauseimg"),winNotif=document.getElementById("winNotif");